# 192、 分库分表(垂直分表、垂直分库、水平分表、水平分库) ？

分库分表是一种常见的数据库水平和垂直扩展方案，用于解决单一数据库性能瓶颈问题。分库分表的实现方式有垂直分表、垂直分库、水平分表和水平分库四种方式。

1. 垂直分表：将一张表按照列拆分成多个表，每个表只存储部分列的数据，不同的表可以存储在不同的数据库中。垂直分表的优点是可以将不同的关注点拆分到不同的表中，减少表的冗余和重复，提高查询效率。缺点是如果需要查询多个表的数据则需要进行关联查询，增加了查询的复杂度。
2. 垂直分库：将不同的业务数据存储在不同的数据库中，每个数据库只处理特定的业务逻辑。垂直分库的优点是可以提高数据库读写的并发性，减少单库数据量，降低单点故障的风险。缺点是增加了系统的复杂性，增加了数据一致性的难度。
3. 水平分表：将一张表按照行进行拆分，将不同的行数据存储在不同的表中，每个表可以存储在不同的数据库中。水平分表的优点是可以将数据分散到多个表中，降低单表数据量，提高查询效率和写入性能。缺点是需要进行数据的路由和管理，增加了系统的复杂性。
4. 水平分库：将一张表按照主键的哈希值进行拆分，将不同的数据存储在不同的数据库中。水平分库的优点是可以将数据分散到多个库中，提高系统的并发能力和可用性。缺点是增加了系统的复杂性，增加了数据一致性的难度。 需要根据实际情况选择合适的分库分表方案，综合考虑性能、可用性、数据一致性和系统复杂度等因素。 
